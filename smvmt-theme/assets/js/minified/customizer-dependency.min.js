!function(c){"use strict";var l=wp.customize,e={controls:{},init:function(){var i=this;i.handleDependency(),i.hideEmptySections(),l.bind("change",function(e,n){i.hasDependentControls(e.id)&&(i.handleDependency(),i.hideEmptySections())})},hasDependentControls:function(s){var o=!1;return c.each(smvmt.config,function(e,n){if(_.isUndefined(n.conditions)){var i=n[0];if(s==i)return void(o=!0)}else{var t=n.conditions;c.each(t,function(e,n){var i=n[0];s!=i||(o=!0)})}}),o},handleDependency:function(){var t=this,e=l.get();t.checked_controls={},_.each(e,function(e,n){var i=l.control(n);t.checkControlVisibility(i,n)})},checkControlVisibility:function(e,n){var i=l.get();if(!_.isUndefined(e)&&void 0!==smvmt.config[n]){var t=!1,s=smvmt.config[n],o=_.isUndefined(s.conditions)?s:s.conditions,c=_.isUndefined(s.operator)?"AND":s.operator;void 0!==o&&(t=this.checkDependency(o,i,c),(this.checked_controls[n]=t)?e.container.removeClass("smvmt-hide"):e.container.addClass("smvmt-hide"))}},checkDependency:function(e,a,d){var m=this,f=!0,v=!1,n=e[0];if(_.isString(n)){var i,t=e[1],s=e[2];if(!_.isUndefined(smvmt.config[n])){e=_.isUndefined(smvmt.config[n].conditions)?smvmt.config[n]:smvmt.config[n].conditions;var o=_.isUndefined(smvmt.config[n].operator)?"AND":smvmt.config[n].operator;if(!_.isUndefined(e))if(m.checkDependency(e,a,o))l.control(n).container.removeClass("smvmt-hide");else if(f=!(v=!0),"AND"==d)return}_.isUndefined(a[n])||v||!f||(i=a[n],f=m.compareValues(i,t,s))}else _.isArray(n)&&(c.each(e,function(e,n){var i=n[0],t=n[1],s=n[2],o=_.isUndefined(a[i])?"":a[i];if(void 0!==smvmt.config[i]){var c=_.isUndefined(smvmt.config[i].conditions)?smvmt.config[i]:smvmt.config[i].conditions,r=_.isUndefined(smvmt.config[i].operator)?"AND":smvmt.config[i].operator;if(!_.isUndefined(c))if(m.checkDependency(c,a,r))f=!0,l.control(i).container.removeClass("smvmt-hide");else if(f=!1,"AND"==d)return}else f=!0;if(f)if("AND"==d){if(!m.compareValues(o,t,s))return f=!1}else f=!!m.compareValues(o,t,s)&&(v=!0)}),v&&"OR"==d&&(f=!0));return f},hideEmptySections:function(){c("ul.accordion-section.control-section-ast_section").each(function(){var e=c(this).attr("id"),n=!1,i=c(this).find(" > .customize-control");0<i.length&&(i.each(function(){c(this).hasClass("smvmt-hide")||"none"==c(this).css("display")||(n=!0)}),n?c('.control-section[aria-owns="'+e+'"]').removeClass("smvmt-hide"):c('.control-section[aria-owns="'+e+'"]').addClass("smvmt-hide"))})},compareValues:function(e,n,i){var t=!1;switch(n){case"===":t=e===i;break;case">":t=i<e;break;case"<":t=e<i;break;case"<=":t=e<=i;break;case">=":t=i<=e;break;case"!=":t=e!=i;break;case"empty":var s=_.clone(e);t=_.isObject(s)||_.isArray(s)?(_.each(s,function(e,n){_.isEmpty(e)&&delete s[n]}),!!_.isEmpty(s)):!(!_.isNull(s)&&""!=s);break;case"not_empty":s=_.clone(e);(_.isObject(s)||_.isArray(s))&&_.each(s,function(e,n){_.isEmpty(e)&&delete s[n]}),t=!_.isEmpty(s);break;case"contains":_.isArray(e)&&-1!==c.inArray(i,e)&&(t=!0);break;default:t=_.isArray(i)?!_.isEmpty(i)&&!_.isEmpty(e)&&_.contains(i,e):e==i}return t}};c(function(){e.init()})}(jQuery);